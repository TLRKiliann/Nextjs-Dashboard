import { Metadata } from 'next';
import prisma from '@/prisma/prisma';
import React, { Suspense } from 'react';
import ShoppingCartPage from '@/components/products-and-cart/ShoppingCart';
import Loader from '@/components/Loader';

export const metadata: Metadata = {
    title: "Cart",
    description: 'Generated by NextJS14',
};

export default async function CartPage() {

    const products = await prisma.product.findMany({
        orderBy: {
            id: "asc",
        }
    });

    return (
        <React.Fragment>
            <Suspense fallback={<Loader />}>
                <ShoppingCartPage products={products} />
            </Suspense>
        </React.Fragment>
    )
};
